<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="/stylesheets/style.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/remixicon@4.3.0/fonts/remixicon.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />
  </head>
  <body>
    <div class="main relative overflow-x-hidden">
      <div
        class="nav absolute z-10 top-2 left-2 text-white flex justify-between items-center w-full px-4 py-2"
      >
        <a href="#"
          ><img src="https://x8.adencys.com/img/logo2.svg" alt=""
        /></a>
        <div class="flex gap-8">
          <a href="/product">Create Product</a>
          <a class="cart" href="#">CART(<%= user.cart.length %>)</a>
          <a href="/profile/logout" class="text-red-500">Logout</a>
        </div>
      </div>

      <div
        class="page1 relative h-[100vh] w-full overflow-hidden bg-black py-[5vw]"
      >
        <div
          class="cart-box z-20 absolute right-[-65%] top-0 h-full w-[65%] bg-black p-4"
        >
          <i
            class="close ri-close-large-line text-zinc-400 text-[1.3vw] cursor-pointer"
          ></i>
          <div class="line w-full h-[1px] bg-zinc-600 mt-14"></div>
          <% userCart.cart.forEach(item=>{ %>
          <div class="product h-[25vh] w-full py-4 flex">
            <div class="img h-full w-[10vw] overflow-hidden">
              <img class="h-full w-full object-cover" src="data:<%=
              item.mimeType %>;base64,<%= item.image.toString("base64") %>"
              alt="">
            </div>
            <div class="content flex justify-between w-full pl-5">
              <div class="elem">
                <h1 class="text-zinc-400"><%= item.title %></h1>
              </div>
              <div class="elem">
                <h1 class="text-zinc-400">$<%= item.price %></h1>
                <a
                  href="/product/remove/<%= item._id %>"
                  class="text-zinc-500 mt-14 inline-block"
                  >Remove</a
                >
              </div>
            </div>
          </div>
          <%}) %>
          <div class="line w-full h-[1px] bg-zinc-100"></div>
          <div class="checkout w-full flex justify-end">
            <h1 class="text-zinc-500 text-sm mt-2">
              TOTAL <span class="text-white">$<%= finalBill %></span>
            </h1>
          </div>
        </div>
        <video
          class="object-cover h-full w-full"
          muted
          autoplay
          loop
          src="/videos/video.webm"
        ></video>
      </div>
      <div class="page2 h-[100vh] w-full bg-black px-4 pt-5 overflow-hidden">
        <form action="" class="text-zinc-500 relative w-fit">
          <div class="flex gap-[8vw]">
            <h1 class="text-[3vw] whitespace-nowrap text-zinc-300">
              Our Products
            </h1>
          </div>
          <div class="filter-line h-[.5px] bg-white/45 mt-2"></div>
        </form>
        <div class="swiper mySwiper mt-6">
          <div class="swiper-wrapper">
            <% products.forEach((product,index) =>{ %> <% if(index !== 8){ %>
            <div class="swiper-slide">
              <a href="/product/<%= product._id %>">
                <div class="img h-[95%] w-full overflow-hidden">
                  <img
                    class="object-cover h-full w-full"
                    src="data:<%= product.mimeType %>;base64,<%= product.image.toString('base64') %>"
                    alt=""
                  />
                </div>
                <div class="text-zinc-400 flex justify-between mt-2">
                  <h3><%= product.title %></h3>
                  <h3>$<%= product.price %></h3>
                </div>
              </a>
            </div>
            <%} %> <% }) %>
          </div>
        </div>
      </div>
      <div class="page3 h-min-[100vh] w-full relative">
        <% products.forEach((product,index)=>{ %> <% if(index === 0) { %>
        <div class="part1 sticky top-0 h-[100vh] w-full flex justify-between">
          <div
            class="left w-1/2 h-full bg-white flex flex-col justify-end text-black px-3 pb-[1vw]"
          >
            <p class="text-[.8vw] leading-[1]"><%= product.description %></p>
            <div
              class="flex justify-between text-[5vw] font-[700] leading-[.9]"
            >
              <h1><%= product.title %></h1>
              <h1><%= product.serialNumber %></h1>
            </div>
            <div class="flex justify-end">
              <% if(user.cart.includes(product._id)){ %>
              <a
                class="text-white w-fit rounded-md px-4 py-1 bg-red-500 mt-4 text-sm"
                href="/product/remove/<%= product._id %>"
                >Remove From Cart</a
              >
              <%} else{ %>
              <a
                class="text-white w-fit rounded-md px-4 py-1 bg-black mt-4 text-sm"
                href="/product/add/<%= product._id %>"
                >Quick Add</a
              >
              <%} %>
            </div>
          </div>
          <div class="left w-1/2 h-full">
            <img
              src="data:<%= product.mimeType %>;base64,<%= product.image.toString('base64') %>"
              class="h-full w-full object-cover"
              src="data:<%= product.mimeType %>;base64,<%= product.image.toString('base64') %>"
              alt=""
            />
          </div>
        </div>
        <%}%> <% if(index === 1) { %>
        <div class="part1 sticky top-0 h-[100vh] w-full flex justify-between">
          <div
            class="left w-1/2 h-full bg-white flex flex-col justify-end text-black px-3 pb-[1vw]"
          >
            <p class="text-[.8vw] leading-[1]"><%= product.description %></p>
            <div
              class="flex justify-between text-[5vw] font-[700] leading-[.9]"
            >
              <h1><%= product.title %></h1>
              <h1><%= product.serialNumber %></h1>
            </div>
            <div class="flex justify-end">
              <a
                class="text-white w-fit rounded-md px-4 py-1 bg-black mt-4 text-sm"
                href="#"
                >Quick Add</a
              >
            </div>
          </div>
          <div class="left w-1/2 h-full bg-red-500">
            <img
              class="h-full w-full object-cover"
              src="data:<%= product.mimeType %>;base64,<%= product.image.toString('base64') %>"
              alt=""
            />
          </div>
        </div>
        <%}%> <% if(index === 2) { %>
        <div class="part1 sticky top-0 h-[100vh] w-full flex justify-between">
          <div class="left w-1/2 h-full bg-red-500">
            <img
              class="h-full w-full object-cover"
              src="data:<%= product.mimeType %>;base64,<%= product.image.toString('base64') %>"
              alt=""
            />
          </div>
          <div
            class="left w-1/2 h-full bg-white flex flex-col justify-end text-black px-3 pb-[1vw]"
          >
            <p class="text-[.8vw] leading-[1]"><%= product.description %></p>
            <div
              class="flex justify-between text-[5vw] font-[700] leading-[.9]"
            >
              <h1><%= product.title %></h1>
              <h1><%= product.serialNumber %></h1>
            </div>
            <div class="flex justify-end">
              <a
                class="text-white w-fit rounded-md px-4 py-1 bg-black mt-4 text-sm"
                href="#"
                >Quick Add</a
              >
            </div>
          </div>
        </div>
        <%}%> <%}) %>
      </div>
      <div class="page4 h-[100vh] w-full overflow-hidden">
        <img
          class="h-full w-full object-cover"
          src="https://x8.adencys.com/img/promotions.jpg"
          alt=""
        />
      </div>

      <div class="footer bg-black flex justify-between text-zinc-400 px-4 py-4">
        <div class="elem flex flex-col gap-2">
          <h1 class="text-white mb-12">SHOP</h1>
          <a href="">ALL</a>
          <a href="">COLLECTIONS</a>
        </div>
        <div class="elem flex flex-col gap-2">
          <h1 class="text-white mb-12">ASSISTANCE</h1>
          <a href="">ORDERS & SHIPPING</a>
          <a href="">RETURNS & EXCHANGES</a>
          <a href="">SIZE GUIDE</a>
          <a href="">CONTACT</a>
        </div>
        <div class="elem flex flex-col gap-2">
          <h1 class="text-white mb-12">LEGAL</h1>
          <a href="">TERMS OF SERVICE</a>
          <a href="">PRIVACY POLICY</a>
        </div>
      </div>
    </div>

    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"
      integrity="sha512-7eHRwcbYkK4d9g/6tD/mhkf++eoTHwpNM9woBxtPUBWm67zeAfFC+HrdoE2GanKeocly/VxeLvIqwvCdk7qScg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script src="https://unpkg.com/lenis@1.1.4/dist/lenis.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script type="module" src="/javascripts/fe-index.js"></script>
  </body>
</html>
